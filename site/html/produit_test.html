<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <title>Teddies</title>
</head>

<body>
    <div class="container text-center">
        <div class="row ">
            <div class="col-12">
                <h1 id="name">

                </h1>
            </div>
            <div class="col-12" id="personal-picture">
                <img src="" alt="">
            </div>
            <div class="col-12" id="description">

            </div>
            <div class="col-12" id="price">

            </div>
            <div class="col-12" id="colors">

            </div>
        </div>
    </div>

    <script>

       

            const queryString = window.location.search;
            const urlParams = new URLSearchParams(queryString);
            let objectId = urlParams.get("id");
            let type = urlParams.get('typeOfObject');

            console.log("Je cherche l'id " + objectId + " de type " + type)
            

            let request = new XMLHttpRequest();
            // let URL = 'http://localhost:3000/api/' + type + '/' + objectId;

            
            // console.log(URL);
            request.open('GET', 'http://localhost:3000/api/' + type);
            request.onload = function () {
                console.log('toto');
                let data = JSON.parse(this.response);
                
                // let myTeddy = {
                //     id: "454621231165",
                //     name: "Arrdgftrsdegrdg nold",
                //     colors: [
                //         "blue",
                //         "red",
                //         "yellow"
                //     ],
                //     price: "29bdfgdf99",
                //     description: "Lorem ipssfdrfhfgh fgdth fum dolor",
                //     img: "https://upload.wikimedia.org/wikipedia/commons/thumb/b/b6/Image_created_with_a_mobile_phone.png/500px-Image_created_with_a_mobile_phone.png"
                // };

                // document.getElementById("name").innerHTML = myTeddy.name;
                // document.getElementById("personal-picture").innerHTML = myTeddy.img; // un peu particulier
                // document.getElementById("price").innerHTML = myTeddy.price;
                // document.getElementById("description").innerHTML = myTeddy.description;
                //document.getElementById("color").innerHTML = myTeddy.description; // un peu particulier
            };
        
            request.send();

    </script>
</body>